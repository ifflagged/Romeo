#!name=TaoPiaoPiaoAds
#!desc=TaoPiaoPiaoAds
#!icon=https://is1-ssl.mzstatic.com/image/thumb/PurpleSource221/v4/3d/6d/c6/3d6dc6af-9f0d-b8b6-aaec-d2518338f1ef/Placeholder.mill/200x200bb-75.webp
#!category=Jacob

[Body Rewrite]
http-response-jq https://acs.m.taobao.com/gw/mtop.film.mtopadvertiseapi.queryloadingbanner '.data.returnValue={}'
http-response-jq https://acs.m.taobao.com/gw/mtop.film.independentadvertiseapi.querypreloadadvertise '.data.returnValue=[]'
http-response-jq https://acs.m.taobao.com/gw/mtop.film.mtopsearchapi.getranklistbytypeforsearch '.data.returnValue={}'
http-response-jq https://acs.m.taobao.com/gw/mtop.film.mtopintegrationapi.homeconfig '.data.returnValue={}'
http-response-jq https://acs.m.taobao.com/gw/mtop.film.mtopindependentadvertiseapi.queryadvertise '.data.returnValue=[]'
http-response-jq https://acs.m.taobao.com/gw/mtop.film.life.aristotle.get '.data.nodes[]?.nodes |= map(select(.data.componentId | IN("tpp_banner_loop", "tpp_guess_like") | not))'
http-response-jq https://acs.m.taobao.com/gw/mtop.film.life.popup.get '.data={}'
http-response-jq https://acs.m.taobao.com/gw/mtop.film.mtopitemadvertiseapi.queryadvertise 'del(.data.returnValue)'

[Script]
# > amdc处理@ddgksf2013
amdc = type=http-response, pattern=^http:\/\/amdc\.m\.taobao\.com, script-path=https://github.com/ifflagged/Romeo/raw/main/Modules/JS/ddgksf2013/TaoPiaoPiaoAds/amdc.js, requires-body=true, max-size=-1, timeout=60

[MITM]
hostname = %APPEND% acs.m.taobao.com

