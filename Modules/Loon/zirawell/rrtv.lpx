#!name=rrtv
#!desc=rrtv
#!icon=https://github.com/Toperlock/Quantumult/raw/main/icon/Doraemon/Doraemon-1069.png
#!tag=Jacob

[Rewrite]
^https?:\/\/api\.rr\.tv\/.*?Version - reject
^https?:\/\/api\.rr\.tv\/storage\/business\/rootName\/app\/homePage\?dataType=JSON mock-response-body data-type=text data="{}" status-code=200

[Script]
http-response ^https?:\/\/api\.rr\.tv\/\w{3}\/level\/info script-path=https://github.com/ifflagged/Romeo/raw/main/Modules/JS/zirawell/rrtv/rrtv.js, requires-body=true, tag=rrtv

http-response ^https?:\/\/api\.rr\.tv\/v3plus\/index\/channel\?pageNum=1&position=CHANNEL_MY script-path=https://github.com/ifflagged/Romeo/raw/main/Modules/JS/zirawell/rrtv/rrtv.js, requires-body=true, tag=rrtv

http-response ^https?:\/\/api\.rr\.tv\/v3plus\/index\/channel\?pageNum=1&position=CHANNEL_INDEX script-path=https://github.com/ifflagged/Romeo/raw/main/Modules/JS/zirawell/rrtv/rrtv.js, requires-body=true, tag=rrtv

http-response ^https?:\/\/api\.rr\.tv\/ad\/getAll script-path=https://github.com/ifflagged/Romeo/raw/main/Modules/JS/zirawell/rrtv/rrtv.js, requires-body=true, tag=rrtv

http-response ^https?:\/\/api\.rr\.tv\/app\/config\/h5NativeBar script-path=https://github.com/ifflagged/Romeo/raw/main/Modules/JS/zirawell/rrtv/rrtv.js, requires-body=true, tag=rrtv

http-response ^https?:\/\/api\.rr\.tv\/drama\/app\/get_combined_drama_detail script-path=https://github.com/ifflagged/Romeo/raw/main/Modules/JS/zirawell/rrtv/rrtv.js, requires-body=true, tag=rrtv

http-response ^https?:\/\/api\.rr\.tv\/watch\/v\d script-path=https://github.com/ifflagged/Romeo/raw/main/Modules/JS/zirawell/rrtv/rrtv.js, requires-body=true, tag=rrtv

http-response ^https?:\/\/api\.rr\.tv\/user\/privilege\/list script-path=https://github.com/ifflagged/Romeo/raw/main/Modules/JS/zirawell/rrtv/rrtv.js, requires-body=true, tag=rrtv

http-response ^https?:\/\/api\.rr\.tv\/user\/profile script-path=https://github.com/ifflagged/Romeo/raw/main/Modules/JS/zirawell/rrtv/rrtv.js, requires-body=true, tag=rrtv

[MITM]
hostname = api.rr.tv

